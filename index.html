<script src="https://d3js.org/d3.v6.min.js"></script>

<script>
  console.log(d3); // test if d3 is loaded
  // Add an SVG
  // Add Rectangles
  // Add Circles
  // Add Lines
  // Add Polygons
<script>
  
  <!DOCTYPE html>
<html>
<head>
    <title>Nadav Konstantine Israeli FlagPlus</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f4;
        }
        svg {
            border: 1px solid black;
        }
    </style>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
    <script>
        // Add an SVG
        var svg = d3.select("body").append("svg")
            .attr("width", 600)
            .attr("height", 400)
            .style("margin", "auto")
            .style("display", "block");

        // Adding Rectangles (This is for background of flag and page)
        svg.append("rect")
            .attr("width", "100%")
            .attr("height", "100%")
            .attr("fill", "white");

        // Adding Rectangles (This is for blue stripes on top and bottom of flag) 
        svg.append("rect")
            .attr("width", "100%")
            .attr("height", "10%")
            .attr("fill", "blue");

        svg.append("rect")
            .attr("y", "90%")
            .attr("width", "100%")
            .attr("height", "10%")
            .attr("fill", "blue");

        // Add Circles
        // radius pixel size and spacing pixel sizes
        var circleRadius = 5;
        var circleSpacing = 10;

        // Calculate the number of circles to fit along the width and height
        var numCirclesX = Math.floor(svg.attr("width") / circleSpacing);
        var numCirclesY = Math.floor(svg.attr("height") / circleSpacing);

        // Helper function to create a row of circles
        function createCircleRow(y) {
            d3.range(numCirclesX).map(function(i) {
                svg.append("circle")
                    .attr("cx", i * circleSpacing)
                    .attr("cy", y)
                    .attr("r", circleRadius)
                    .attr("fill", "blue");
            });
        }

        // Line of Circles for the top and bottom of the flag
        createCircleRow(0);
        createCircleRow(svg.attr("height") - circleSpacing);

        // Line of Circles for the left and right borders
        d3.range(numCirclesY).map(function(i) {
            svg.append("circle")
                .attr("cx", 0)
                .attr("cy", i * circleSpacing)
                .attr("r", circleRadius)
                .attr("fill", "blue");

            svg.append("circle")
                .attr("cx", svg.attr("width") - circleSpacing)
                .attr("cy", i * circleSpacing)
                .attr("r", circleRadius)
                .attr("fill", "blue");
        });

        // Define the points for the two triangles, where lines will be overlapping
        var starPoints = [
          {x: 300, y: 200},
          {x: 320, y: 260},
          {x: 380, y: 260},
          {x: 330, y: 290},
          {x: 350, y: 350},
          {x: 300, y: 320},
          {x: 250, y: 350},
          {x: 270, y: 290},
          {x: 220, y: 260},
          {x: 280, y: 260},
          {x: 300, y: 200}
        ];

        // Create a line generator
        var lineGenerator = d3.line()
          .x(function(d) { return d.x; })
          .y(function(d) { return d.y; });

        // Draw the Star of David in the middle of the screen
        svg.append("path")
          .attr("d", lineGenerator(starPoints))
          .attr("fill", "blue");
    </script>
</body>
</html>
